!function(t,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var e=r();for(var n in e)("object"==typeof exports?exports:t)[n]=e[n]}}(window,function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=1)}([function(t,r){var e=function(){function t(t,r){var e;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),null==t&&(t="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:t}),this.hash=r,r&&r.exception instanceof Error){var n=r.exception;this.message=n.message||t,e=n.stack}e||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):e=new Error(t).stack),e&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:e})}function r(t,r,e){e=e||0;for(var n=0;n<r;n++)this.push(t),t+=e}function e(t,r){for(r+=t=this.length-t;t<r;t++)this.push(this[t])}function n(t){for(var r=[],e=0,n=t.length;e<n;e++){var o=t[e];"function"==typeof o?(e++,o.apply(r,t[e])):r.push(o)}return r}"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,Error.prototype):t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t.prototype.name="JisonParserError";var o={trace:function(){},JisonParserError:t,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,"(":4,")":5,"*":10,"+":7,",":16,"-":9,"->":42,".":6,"/":11,":":3,"::":50,"<":12,"<=":32,"<>":34,"=":13,">":14,">=":33,"@":17,EOF:1,"^":8,and:35,body:23,classifierContextDecl:54,context:20,contextDeclList:52,contextDeclaration:53,def:27,defExpression:66,derive:25,div:31,else:40,endif:41,endpackage:19,error:2,false:48,if:38,implies:43,init:24,initOrDerValue:61,initOrDerValueList:60,integer:44,inv:26,invOrDef:63,invOrDefList:62,literalExp:74,literalExpList:75,mod:30,nil:49,not:28,oclExpression:64,oclExpressionList:65,oclExpressionListOptional:70,operation:59,operationContextDecl:56,or:36,package:18,packageDecl:51,pathName:78,post:22,pre:21,preOptional:73,prePostOrBodyDecl:58,prePostOrBodyDeclList:57,primitiveLiteralExp:77,propertyContextDecl:55,real:45,simpleName:29,simpleNameOptional:76,string:46,then:39,true:47,type:68,typeOptional:67,variableDeclaration:69,variableDeclarationList:72,variableDeclarationListOptional:71,xor:37,"|":15},terminals_:{1:"EOF",2:"error",3:":",4:"(",5:")",6:".",7:"+",8:"^",9:"-",10:"*",11:"/",12:"<",13:"=",14:">",15:"|",16:",",17:"@",18:"package",19:"endpackage",20:"context",21:"pre",22:"post",23:"body",24:"init",25:"derive",26:"inv",27:"def",28:"not",29:"simpleName",30:"mod",31:"div",32:"<=",33:">=",34:"<>",35:"and",36:"or",37:"xor",38:"if",39:"then",40:"else",41:"endif",42:"->",43:"implies",44:"integer",45:"real",46:"string",47:"true",48:"false",49:"nil",50:"::"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(t){return'"'+t+'"'},getSymbolName:function(t){if(this.terminals_[t])return this.terminals_[t];var r=this.symbols_;for(var e in r)if(r[e]===t)return e;return null},describeSymbol:function(t){if(t!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[t])return this.terminal_descriptions_[t];if(t===this.EOF)return"end of input";var r=this.getSymbolName(t);return r?this.quoteName(r):null},collect_expected_token_set:function(t,r){var e=this.TERROR,n=[],o={};if(!r&&this.state_descriptions_&&this.state_descriptions_[t])return[this.state_descriptions_[t]];for(var i in this.table[t])if((i=+i)!==e){var s=r?i:this.describeSymbol(i);s&&!o[s]&&(n.push(s),o[s]=!0)}return n},productions_:function(t){for(var r=[],e=t.pop,n=t.rule,o=0,i=e.length;o<i;o++)r.push([e[o],n[o]]);return r}({pop:n([51,51,52,52,r,[53,3],r,[54,4,1],57,r,[58,3],59,60,60,61,61,62,62,63,63,r,[64,30],65,65,66,66,67,67,68,68,69,70,70,71,71,72,72,73,73,74,75,75,76,76,r,[77,6],78,78]),rule:n([5,2,2,r,[1,4],3,5,3,2,1,r,[4,3],5,2,1,3,e,[10,5],1,2,2,3,6,4,r,[3,7],2,r,[3,9],7,e,[21,3],e,[22,4],1,4,8,2,0,1,4,2,1,0,1,0,3,1,e,[11,3],3,1,e,[11,3],r,[1,6],3])}),performAction:function(t,r,e){var n=this.yy;switch(n.parser,n.lexer,t){case 0:this.$=e[r-1];break;case 1:return this.$=e[r-4],new n.Expression.PackageDeclaration(e[r-3],e[r-2]);case 2:return this.$=e[r-1],new n.Expression.PackageDeclaration("unnamed",e[r-1]);case 3:case 11:case 17:case 21:this.$=e[r-1].concat(e[r]);break;case 4:case 12:case 18:case 22:case 56:case 69:case 74:this.$=[e[r]];break;case 5:case 6:case 7:case 25:case 59:case 61:case 64:case 66:case 72:case 75:case 83:this.$=e[r];break;case 8:this.$=new n.Expression.ClassifierContextExpression(e[r-1],e[r]);break;case 9:this.$=new n.Expression.PropertyContextExpression(e[r-3],e[r]);break;case 10:this.$=new n.Expression.OperationContextExpression(e[r-1],e[r]);break;case 13:case 14:case 15:this.$=e[r-3];break;case 16:this.$={pathName:e[r-4],params:e[r-2],returnType:e[r]};break;case 19:this.$=new n.Expression.InitExpression(e[r]);break;case 20:this.$=new n.Expression.DeriveExpression(e[r]);break;case 23:this.$=new n.Expression.InvariantExpression(e[r],e[r-2]);break;case 24:this.$=new n.Expression.LetExpression(e[r-2],e[r]);break;case 26:this.$=new n.Expression.VariableExpression(e[r-1]);break;case 27:this.$=new n.Expression.NotExpression(e[r]);break;case 28:case 63:this.$=e[r-1];break;case 29:this.$=s(n,e[r-3],e[r-5],e[r-1]);break;case 30:this.$=e[r-3]instanceof n.Expression.VariableExpression?new n.Expression.VariableExpression([e[r-3].source,e[r-1]].join(".")):e[r-3];break;case 31:this.$=new n.Expression.AdditionExpression(e[r-2],e[r]);break;case 32:this.$=new n.Expression.PowerExpression(e[r-2],e[r]);break;case 33:this.$=new n.Expression.SubstractionExpression(e[r-2],e[r]);break;case 34:this.$=new n.Expression.MultiplyExpression(e[r-2],e[r]);break;case 35:case 37:this.$=new n.Expression.DivideExpression(e[r-2],e[r]);break;case 36:this.$=new n.Expression.ModuloExpression(e[r-2],e[r]);break;case 38:this.$=new n.Expression.MultiplyExpression(new n.Expression.NumberExpression(-1),e[r]);break;case 39:this.$=new n.Expression.OperationCallExpression("<",e[r-2],e[r]);break;case 40:this.$=new n.Expression.OperationCallExpression("<=",e[r-2],e[r]);break;case 41:this.$=new n.Expression.OperationCallExpression("=",e[r-2],e[r]);break;case 42:this.$=new n.Expression.OperationCallExpression(">=",e[r-2],e[r]);break;case 43:this.$=new n.Expression.OperationCallExpression(">",e[r-2],e[r]);break;case 44:this.$=new n.Expression.OperationCallExpression("<>",e[r-2],e[r]);break;case 45:this.$=new n.Expression.AndExpression(e[r-2],e[r]);break;case 46:this.$=new n.Expression.OrExpression(e[r-2],e[r]);break;case 47:this.$=new n.Expression.XorExpression(e[r-2],e[r]);break;case 48:this.$=new n.Expression.IfExpression(e[r-5],e[r-3],e[r-1]);break;case 49:this.$=s(n,e[r],this.$);break;case 50:e[r-5].setBody(e[r-1]),e[r-5].setIterators(e[r-3]),this.$=e[r-5];break;case 51:case 52:e[r-3].setBody(e[r-1]),this.$=e[r-3];break;case 53:this.$=e[r-2];break;case 54:this.$=new n.Expression.ImpliesExpression(e[r-2],e[r]);break;case 55:this.$=e[r-2].concat(e[r]);break;case 57:this.$=new n.Expression.LetExpression(e[r-3],e[r]);break;case 58:this.$=new n.Expression.LetExpression(e[r-7],e[r]);break;case 60:case 65:case 67:case 71:case 76:this.$=void 0;break;case 62:this.$=e[r-3];break;case 68:case 73:this.$=[].concat(e[r-2]).concat(e[r]);break;case 70:this.$=e[r-1];break;case 77:case 78:this.$=new n.Expression.NumberExpression(e[r]);break;case 79:this.$=new n.Expression.StringExpression(e[r]);break;case 80:this.$=new n.Expression.BooleanExpression(!0);break;case 81:this.$=new n.Expression.BooleanExpression(!1);break;case 82:this.$=new n.Expression.NilExpression;break;case 84:this.$=e[r-2]+"::"+e[r]}},table:function(t){for(var r=[],e=t.len,n=t.symbol,o=t.type,i=t.state,s=t.mode,c=t.goto,u=0,a=e.length;u<a;u++){for(var p=e[u],f={},l=0;l<p;l++){var h=n.shift();switch(o.shift()){case 2:f[h]=[s.shift(),c.shift()];break;case 0:f[h]=i.shift();break;default:f[h]=[3]}}r.push(f)}return r}({len:n([8,1,2,6,r,[0,4],3,7,r,[0,3],7,5,6,1,6,3,5,0,3,e,[14,3],r,[3,3],1,0,0,4,11,1,2,0,5,1,0,1,0,r,[1,3],0,6,e,[6,4],5,2,0,3,15,2,r,[15,3],0,15,15,e,[34,3],0,25,0,38,r,[15,4],r,[0,8],4,r,[26,3],25,25,0,1,r,[15,16],1,19,15,0,1,35,21,35,21,1,1,37,r,[35,16],0,2,21,2,0,22,27,35,0,e,[83,3],3,18,0,e,[76,3],8,21,25,1,1,2,22,21,0,15,3,e,[15,3],21,1,22,0,15,25]),symbol:n([18,20,r,[51,6,1],1,29,78,1,20,e,[9,4],29,59,78,20,50,e,[19,5],3,4,26,27,50,62,63,21,22,23,57,58,19,e,[28,6],1,19,20,26,27,63,29,68,78,5,29,69,71,72,3,29,76,e,[3,3],e,[20,3],e,[35,3],58,e,[13,6],e,[16,4],24,25,60,61,4,5,13,15,16,r,[21,5,1],50,5,5,16,3,5,15,16,67,r,[3,5],e,[45,3],24,25,61,3,3,29,3,e,[29,3],67,29,69,e,[75,3],4,9,28,29,38,r,[44,6,1],64,74,77,78,29,66,e,[17,15],e,[15,60],5,1,4,r,[6,9,1],e,[187,4],r,[30,8,1],42,43,1,r,[4,11,1],16,17,r,[19,9,1],e,[33,8],r,[39,5,1],50,73,e,[124,60],3,4,13,67,e,[127,13],e,[99,3],e,[128,12],e,[26,63],24,25,e,[25,35],29,e,[332,75],e,[15,165],29,4,5,e,[17,11],69,72,74,75,e,[35,17],21,e,[507,13],e,[506,22],e,[34,11],e,[563,23],e,[56,23],e,[55,17],39,42,43,13,29,e,[621,36],73,e,[95,35],e,[35,525],15,16,e,[678,21],5,e,[23,12],16,e,[24,10],r,[3,15,1],e,[25,10],50,e,[1190,3],e,[729,34],e,[1259,30],5,67,e,[888,13],65,70,e,[36,18],e,[10,6],74,77,e,[803,18],40,e,[1217,15],e,[1447,12],r,[5,3],e,[208,23],e,[253,21],e,[152,16],13,67,e,[185,16],e,[53,17],e,[221,3],13,e,[98,23],e,[59,14],e,[164,25]]),type:n([2,2,r,[0,6],1,2,0,e,[11,6],e,[5,3],e,[20,7],r,[2,5],e,[7,5],e,[19,8],r,[2,6],e,[35,9],e,[11,4],e,[3,4],e,[21,6],e,[3,10],e,[53,6],r,[2,15],e,[19,11],e,[11,8],e,[73,3],e,[43,14],e,[128,6],e,[17,16],e,[15,70],r,[2,52],e,[124,64],e,[128,64],r,[2,77],e,[332,75],e,[15,165],e,[730,8],e,[532,79],e,[415,89],r,[2,633],e,[634,47],e,[851,21],e,[68,13],e,[887,27],e,[895,106],e,[152,18],e,[1021,59],e,[59,29]]),state:n([1,r,[3,5,1],9,12,e,[5,3],14,13,15,e,[12,4],17,20,23,24,e,[15,4],30,31,32,35,33,34,37,r,[39,5,1],45,46,52,59,63,64,65,32,66,67,73,68,80,82,e,[5,3],83,e,[4,3],84,e,[4,3],85,e,[4,3],86,e,[4,3],108,110,e,[5,3],111,e,[4,3],112,e,[4,3],113,e,[4,3],114,117,e,[5,3],118,e,[4,3],119,e,[4,3],120,e,[4,3],121,e,[4,3],122,e,[4,3],123,e,[4,3],124,e,[4,3],125,e,[4,3],126,e,[4,3],127,e,[4,3],128,e,[4,3],129,e,[4,3],130,e,[4,3],131,e,[4,3],132,e,[4,3],135,35,134,138,136,73,68,140,e,[11,3],147,52,152,e,[6,3],153,e,[4,3],154,157,156,155,e,[7,3],158,e,[4,3],159,73,165,e,[6,3],166,167,e,[5,3],170,e,[4,3]]),mode:n([r,[1,19],r,[2,3],e,[6,4],1,2,e,[4,4],e,[12,11],e,[28,7],r,[2,6],e,[21,4],e,[30,7],e,[8,10],e,[9,10],r,[1,64],e,[71,11],e,[110,6],e,[14,12],e,[133,10],r,[2,22],e,[108,48],e,[95,16],e,[135,25],e,[26,52],e,[25,35],r,[1,202],e,[551,8],e,[426,14],e,[601,14],e,[56,24],e,[466,7],e,[468,12],e,[71,10],e,[317,12],e,[58,16],e,[528,33],e,[715,7],e,[46,15],e,[165,11],e,[515,4],e,[129,20],e,[35,18],e,[70,35],e,[231,5],e,[35,65],e,[269,30],e,[360,35],e,[70,39],e,[105,41],e,[175,64],e,[140,76],e,[245,17],e,[35,78],e,[1066,27],e,[606,22],r,[2,25],e,[108,57],e,[134,28],e,[1331,48],e,[1451,6],e,[40,20],e,[84,44],e,[35,34],e,[45,22],e,[151,25]]),goto:n([2,8,10,11,8,10,8,16,18,19,21,22,16,r,[25,4,1],8,29,r,[8,3],21,22,10,67,36,76,38,76,38,r,[10,3],e,[21,3],e,[10,4],76,38,44,47,48,49,r,[61,9],16,50,66,51,53,r,[60,3],r,[54,5,1],r,[9,3],47,48,60,61,62,e,[17,4],36,10,70,71,69,10,72,r,[74,6,1],81,e,[12,11],e,[11,44],87,23,106,r,[88,6,1],96,98,100,r,[23,4],94,r,[95,4,2],r,[102,4,1],107,r,[71,13],109,r,[71,22],16,e,[107,44],53,115,60,13,e,[109,10],r,[13,5],e,[110,10],14,e,[26,10],r,[14,5],e,[26,10],15,e,[26,10],r,[15,5],e,[26,10],19,e,[26,10],r,[19,4],e,[25,10],20,e,[25,10],r,[20,4],e,[25,10],116,e,[294,55],e,[11,121],133,70,137,71,69,139,e,[24,18],141,27,106,27,e,[228,9],r,[27,10],e,[234,8],r,[27,3],105,107,106,142,e,[34,9],e,[258,10],38,106,38,88,r,[38,5],96,38,100,r,[38,11],e,[32,4],r,[38,6],105,38,e,[317,10],e,[55,8],143,105,107,144,145,71,146,e,[528,34],31,106,31,88,31,90,31,e,[61,3],31,100,r,[31,10],e,[71,5],r,[31,6],105,31,32,106,32,88,r,[32,5],96,32,100,r,[32,10],e,[35,5],r,[32,6],105,32,33,106,33,88,33,90,33,e,[70,3],33,100,r,[33,10],e,[35,5],r,[33,6],105,33,34,106,34,88,34,90,r,[34,3],96,34,100,r,[34,10],e,[35,5],r,[34,6],105,34,35,106,35,88,35,90,r,[35,3],96,35,100,r,[35,10],e,[35,5],r,[35,6],105,35,36,106,36,88,r,[36,5],96,36,100,r,[36,11],e,[35,4],r,[36,6],105,36,37,106,37,e,[271,9],r,[37,10],e,[281,8],r,[37,3],105,107,39,106,39,88,r,[39,5],96,39,100,r,[39,11],e,[35,4],r,[39,6],105,39,40,106,40,88,r,[40,5],96,40,100,r,[40,11],e,[35,4],r,[40,6],105,40,41,106,41,e,[105,7],41,100,r,[41,10],e,[105,5],r,[41,6],105,41,42,106,42,88,r,[42,5],96,42,100,r,[42,11],e,[35,4],r,[42,6],105,42,43,106,43,88,r,[43,5],96,43,100,r,[43,11],e,[35,4],r,[43,6],105,43,44,106,44,88,r,[44,5],96,44,100,r,[44,11],e,[35,4],r,[44,6],105,44,45,106,45,e,[245,9],r,[45,10],e,[140,5],r,[45,6],105,45,46,106,46,e,[35,9],r,[46,10],e,[35,5],r,[46,6],105,46,47,106,47,e,[35,9],r,[47,10],e,[35,5],r,[47,6],105,47,148,51,106,149,e,[677,19],150,151,r,[25,11],74,r,[25,10],53,r,[83,11],60,60,r,[83,12],54,106,54,e,[72,9],r,[54,10],e,[82,5],r,[54,6],105,54,e,[1173,23],60,70,65,e,[25,21],e,[6,6],e,[780,18],160,105,107,57,e,[22,10],r,[57,4],e,[184,10],161,162,64,163,106,56,e,[29,9],56,e,[26,10],106,164,e,[231,19],e,[135,14],e,[13,10],e,[117,18],168,105,107,169,106,55,e,[23,9],55,e,[68,21],58,e,[56,10],r,[58,4],e,[36,10]])}),defaultActions:function(t){for(var r={},e=t.idx,n=t.goto,o=0,i=e.length;o<i;o++)r[e[o]]=n[o];return r}({idx:n([r,[4,4,1],10,11,12,20,24,29,30,35,38,40,44,46,52,59,63,64,65,67,r,[73,8,1],87,108,133,137,141,142,147,149,150,159,162,164,168]),goto:n([r,[4,4,1],83,2,3,22,12,84,21,69,75,11,1,18,63,17,16,68,59,25,72,r,[77,6,1],24,62,26,49,53,70,28,30,51,52,73,29,50,48])}),parseError:function(t,r,e){if(!r.recoverable)throw"function"==typeof this.trace&&this.trace(t),e||(e=this.JisonParserError),new e(t,r);"function"==typeof this.trace&&this.trace(t),r.destroy()},parse:function(t){var r,e=this,n=new Array(128),o=new Array(128),i=new Array(128),s=this.table,c=0,u=0,a=(this.TERROR,this.EOF),p=(this.options.errorRecoveryTokenDiscardCount,[0,171]);r=this.__lexer__?this.__lexer__:this.__lexer__=Object.create(this.lexer);var f={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};"function"!=typeof assert||assert,this.yyGetSharedState=function(){return f},function(t,r){for(var e in r)void 0===t[e]&&Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}(f,this.yy),f.lexer=r,f.parser=this,"function"==typeof f.parseError?this.parseError=function(t,r,e){return e||(e=this.JisonParserError),f.parseError.call(this,t,r,e)}:this.parseError=this.originalParseError,"function"==typeof f.quoteName?this.quoteName=function(t){return f.quoteName.call(this,t)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(t,e,s){var u,a;if(e&&((f.post_parse||this.post_parse)&&(a=this.constructParseErrorInfo(null,null,null,!1)),f.post_parse&&void 0!==(u=f.post_parse.call(this,f,t,a))&&(t=u),this.post_parse&&void 0!==(u=this.post_parse.call(this,f,t,a))&&(t=u),a&&a.destroy&&a.destroy()),this.__reentrant_call_depth>1)return t;if(r.cleanupAfterLex&&r.cleanupAfterLex(s),f&&(f.lexer=void 0,f.parser=void 0,r.yy===f&&(r.yy=void 0)),f=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,n.length=0,o.length=0,i.length=0,c=0,!s){for(var p=this.__error_infos.length-1;p>=0;p--){var l=this.__error_infos[p];l&&"function"==typeof l.destroy&&l.destroy()}this.__error_infos.length=0}return t},this.constructParseErrorInfo=function(t,e,s,a){var p={errStr:t,exception:e,text:r.match,value:r.yytext,token:this.describeSymbol(u)||u,token_id:u,line:r.yylineno,expected:s,recoverable:a,state:l,action:h,new_state:d,symbol_stack:n,state_stack:o,value_stack:i,stack_pointer:c,yy:f,lexer:r,parser:this,destroy:function(){var t=!!this.recoverable;for(var r in this)this.hasOwnProperty(r)&&"object"==typeof r&&(this[r]=void 0);this.recoverable=t}};return this.__error_infos.push(p),p};var l,h,y,_,v,g,x,d,E=function(){var t=r.lex();return"number"!=typeof t&&(t=e.symbols_[t]||t),t||a},b={$:!0,_$:void 0,yy:f},O=!1;try{for(this.__reentrant_call_depth++,r.setInput(t,f),"function"==typeof r.canIUse&&r.canIUse().fastLex&&(E=function(){var t=r.fastLex();return"number"!=typeof t&&(t=e.symbols_[t]||t),t||a}),i[c]=null,o[c]=0,n[c]=0,++c,this.pre_parse&&this.pre_parse.call(this,f),f.pre_parse&&f.pre_parse.call(this,f),d=o[c-1];;){if(l=d,this.defaultActions[l])h=2,d=this.defaultActions[l];else if(u||(u=E()),_=s[l]&&s[l][u]||p,d=_[1],!(h=_[0])){var m,w=this.describeSymbol(u)||u,P=this.collect_expected_token_set(l);m="number"==typeof r.yylineno?"Parse error on line "+(r.yylineno+1)+": ":"Parse error: ","function"==typeof r.showPosition&&(m+="\n"+r.showPosition(69,10)+"\n"),P.length?m+="Expecting "+P.join(", ")+", got unexpected "+w:m+="Unexpected "+w,v=this.constructParseErrorInfo(m,null,P,!1),void 0!==(y=this.parseError(v.errStr,v,this.JisonParserError))&&(O=y);break}switch(h){default:if(h instanceof Array){v=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+l+", token: "+u,null,null,!1),void 0!==(y=this.parseError(v.errStr,v,this.JisonParserError))&&(O=y);break}v=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),void 0!==(y=this.parseError(v.errStr,v,this.JisonParserError))&&(O=y);break;case 1:n[c]=u,i[c]=r.yytext,o[c]=d,++c,u=0;continue;case 2:if(g=(x=this.productions_[d-1])[1],void 0!==(y=this.performAction.call(b,d,c-1,i))){O=y;break}c-=g;var j=x[0];n[c]=j,i[c]=b.$,d=s[o[c-1]][j],o[c]=d,++c;continue;case 3:-2!==c&&(O=!0,void 0!==i[--c]&&(O=i[c]))}break}}catch(t){if(t instanceof this.JisonParserError)throw t;if(r&&"function"==typeof r.JisonLexerError&&t instanceof r.JisonLexerError)throw t;v=this.constructParseErrorInfo("Parsing aborted due to exception.",t,null,!1),O=!1,void 0!==(y=this.parseError(v.errStr,v,this.JisonParserError))&&(O=y)}finally{O=this.cleanupAfterParse(O,!0,!0),this.__reentrant_call_depth--}return O}};o.originalParseError=o.parseError,o.originalQuoteName=o.quoteName;var i=function(){function t(t,r){var e;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),null==t&&(t="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:t}),this.hash=r,r&&r.exception instanceof Error){var n=r.exception;this.message=n.message||t,e=n.stack}e||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):e=new Error(t).stack),e&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:e})}return"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,Error.prototype):t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t.prototype.name="JisonLexerError",{EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(t,r,e){if(t=""+t,void 0==e&&(e=!(t.indexOf("\n")>0&&t.indexOf("^")>0)),this.yylloc&&e)if("function"==typeof this.prettyPrintRange)this.prettyPrintRange(this.yylloc),/\n\s*$/.test(t)||(t+="\n"),t+="\n  Erroneous area:\n"+this.prettyPrintRange(this.yylloc);else if("function"==typeof this.showPosition){var n=this.showPosition();n&&(t.length&&"\n"!==t[t.length-1]&&"\n"!==n[0]?t+="\n"+n:t+=n)}var o={errStr:t,recoverable:!!r,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var t=!!this.recoverable;for(var r in this)this.hasOwnProperty(r)&&"object"==typeof r&&(this[r]=void 0);this.recoverable=t}};return this.__error_infos.push(o),o},parseError:function(t,r,e){if(e||(e=this.JisonLexerError),this.yy){if(this.yy.parser&&"function"==typeof this.yy.parser.parseError)return this.yy.parser.parseError.call(this,t,r,e)||this.ERROR;if("function"==typeof this.yy.parseError)return this.yy.parseError.call(this,t,r,e)||this.ERROR}throw new e(t,r)},yyerror:function(t){var r="";this.yylloc&&(r=" on line "+(this.yylineno+1));var e=this.constructLexErrorInfo("Lexical error"+r+": "+t,this.options.lexerErrorsAreRecoverable),n=Array.prototype.slice.call(arguments,1);return n.length&&(e.extra_error_attributes=n),this.parseError(e.errStr,e,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(t){if(this.setInput("",{}),!t){for(var r=this.__error_infos.length-1;r>=0;r--){var e=this.__error_infos[r];e&&"function"==typeof e.destroy&&e.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var t=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:t,last_line:this.yylineno+1,last_column:t,range:[this.offset,this.offset]}},setInput:function(t,r){if(this.yy=r||this.yy||{},!this.__decompressed){for(var e=this.rules,n=0,o=e.length;n<o;n++)"number"==typeof(l=e[n])&&(e[n]=e[l]);var i=this.conditions;for(var s in i){var c=i[s],u=c.rules,a=(o=u.length,new Array(o+1)),p=new Array(o+1);for(n=0;n<o;n++){var f=u[n],l=e[f];a[n+1]=l,p[n+1]=f}c.rules=p,c.__rule_regexes=a,c.__rule_count=o}this.__decompressed=!0}return this._input=t||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(t,r){var e=t.call(this,this._input,r);return"string"!=typeof e?e&&(this._input=""+e):this._input=e,this},input:function(){if(!this._input)return null;var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var r=1,e=!1;if("\n"===t)e=!0;else if("\r"===t){e=!0;var n=this._input[1];"\n"===n&&(r++,t+=n,this.yytext+=n,this.yyleng++,this.offset++,this.match+=n,this.matched+=n,this.yylloc.range[1]++)}return e?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(r),t},unput:function(t){var r=t.length,e=t.split(/(?:\r\n?|\n)/g);if(this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-r),this.yyleng=this.yytext.length,this.offset-=r,this.match=this.match.substr(0,this.match.length-r),this.matched=this.matched.substr(0,this.matched.length-r),e.length>1){this.yylineno-=e.length-1,this.yylloc.last_line=this.yylineno+1;var n=this.match,o=n.split(/(?:\r\n?|\n)/g);1===o.length&&(o=(n=this.matched).split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=o[o.length-1].length}else this.yylloc.last_column-=r;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var t="";this.yylloc&&(t=" on line "+(this.yylineno+1));var r=this.constructLexErrorInfo("Lexical error"+t+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(r.errStr,r,this.JisonLexerError)||this.ERROR}return this},less:function(t){return this.unput(this.match.slice(t))},pastInput:function(t,r){var e=this.matched.substring(0,this.matched.length-this.match.length);t<0?t=e.length:t||(t=20),r<0?r=e.length:r||(r=1);var n=(e=e.substr(2*-t-2)).replace(/\r\n|\r/g,"\n").split("\n");return(e=(n=n.slice(-r)).join("\n")).length>t&&(e="..."+e.substr(-t)),e},upcomingInput:function(t,r){var e=this.match;t<0?t=e.length+this._input.length:t||(t=20),r<0?r=t:r||(r=1),e.length<2*t+2&&(e+=this._input.substring(0,2*t+2));var n=e.replace(/\r\n|\r/g,"\n").split("\n");return(e=(n=n.slice(0,r)).join("\n")).length>t&&(e=e.substring(0,t)+"..."),e},showPosition:function(t,r){var e=this.pastInput(t).replace(/\s/g," "),n=new Array(e.length+1).join("-");return e+this.upcomingInput(r).replace(/\s/g," ")+"\n"+n+"^"},deriveLocationInfo:function(t,r,e,n){var o={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return t&&(o.first_line=0|t.first_line,o.last_line=0|t.last_line,o.first_column=0|t.first_column,o.last_column=0|t.last_column,t.range&&(o.range[0]=0|t.range[0],o.range[1]=0|t.range[1])),(o.first_line<=0||o.last_line<o.first_line)&&(o.first_line<=0&&r&&(o.first_line=0|r.last_line,o.first_column=0|r.last_column,r.range&&(o.range[0]=0|t.range[1])),(o.last_line<=0||o.last_line<o.first_line)&&e&&(o.last_line=0|e.first_line,o.last_column=0|e.first_column,e.range&&(o.range[1]=0|t.range[0])),o.first_line<=0&&n&&(o.last_line<=0||n.last_line<=o.last_line)&&(o.first_line=0|n.first_line,o.first_column=0|n.first_column,n.range&&(o.range[0]=0|n.range[0])),o.last_line<=0&&n&&(o.first_line<=0||n.first_line>=o.first_line)&&(o.last_line=0|n.last_line,o.last_column=0|n.last_column,n.range&&(o.range[1]=0|n.range[1]))),o.last_line<=0&&(o.first_line<=0?(o.first_line=this.yylloc.first_line,o.last_line=this.yylloc.last_line,o.first_column=this.yylloc.first_column,o.last_column=this.yylloc.last_column,o.range[0]=this.yylloc.range[0],o.range[1]=this.yylloc.range[1]):(o.last_line=this.yylloc.last_line,o.last_column=this.yylloc.last_column,o.range[1]=this.yylloc.range[1])),o.first_line<=0&&(o.first_line=o.last_line,o.first_column=0,o.range[1]=o.range[0]),o.first_column<0&&(o.first_column=0),o.last_column<0&&(o.last_column=o.first_column>0?o.first_column:80),o},prettyPrintRange:function(t,r,e){t=this.deriveLocationInfo(t,r,e);var n=(this.matched+this._input).split("\n"),o=Math.max(1,r?r.first_line:t.first_line-3),i=Math.max(1,e?e.last_line:t.last_line+1),s=1+Math.log10(1|i)|0,c=new Array(s).join(" "),u=[],a=n.slice(o-1,i+1).map(function(r,e){var n=e+o,i=(c+n).substr(-s)+": "+r,a=new Array(s+1).join("^"),p=3,f=0;return n===t.first_line?(p+=t.first_column,f=Math.max(2,(n===t.last_line?t.last_column:r.length)-t.first_column+1)):n===t.last_line?f=Math.max(2,t.last_column+1):n>t.first_line&&n<t.last_line&&(f=Math.max(2,r.length+1)),f&&(i+="\n"+a+new Array(p).join(".")+new Array(f).join("^"),r.trim().length>0&&u.push(e)),i.replace(/\t/g," ")});if(u.length>4){var p=u[1]+1,f=u[u.length-2]-1,l=new Array(s+1).join(" ")+"  (...continued...)";l+="\n"+new Array(s+1).join("-")+"  (---------------)",a.splice(p,f-p+1,l)}return a.join("\n")},describeYYLLOC:function(t,r){var e,n=t.first_line,o=t.last_line,i=t.first_column,s=t.last_column;if(0==o-n?(e="line "+n+", ",e+=s-i<=1?"column "+i:"columns "+i+" .. "+s):e="lines "+n+"(column "+i+") .. "+o+"(column "+s+")",t.range&&r){var c=t.range[0],u=t.range[1]-1;e+=u<=c?" {String Offset: "+c+"}":" {String Offset range: "+c+" .. "+u+"}"}return e},test_match:function(t,r){var e,n,o,i,s;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),s=(i=t[0]).length,(n=i.split(/(?:\r\n?|\n)/g)).length>1?(this.yylineno+=n.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=n[n.length-1].length):this.yylloc.last_column+=s,this.yytext+=i,this.match+=i,this.matched+=i,this.matches=t,this.yyleng=this.yytext.length,this.yylloc.range[1]+=s,this.offset+=s,this._more=!1,this._backtrack=!1,this._input=this._input.slice(s),e=this.performAction.call(this,this.yy,r,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e)return e;if(this._backtrack){for(var c in o)this[c]=o[c];return this.__currentRuleSet__=null,!1}return!!this._signaled_error_token&&(e=this._signaled_error_token,this._signaled_error_token=!1,e)},next:function(){if(this.done)return this.clear(),this.EOF;var t,r,e,n;this._input||(this.done=!0),this._more||this.clear();var o=this.__currentRuleSet__;if(!(o||(o=this.__currentRuleSet__=this._currentRules())&&o.rules)){var i="";this.options.trackPosition&&(i=" on line "+(this.yylineno+1));var s=this.constructLexErrorInfo("Internal lexer engine error"+i+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(s.errStr,s,this.JisonLexerError)||this.ERROR}for(var c=o.rules,u=o.__rule_regexes,a=o.__rule_count,p=1;p<=a;p++)if((e=this._input.match(u[p]))&&(!r||e[0].length>r[0].length)){if(r=e,n=p,this.options.backtrack_lexer){if(!1!==(t=this.test_match(e,c[p])))return t;if(this._backtrack){r=void 0;continue}return!1}if(!this.options.flex)break}if(r)return!1!==(t=this.test_match(r,c[n]))&&t;if(this._input){i="",this.options.trackPosition&&(i=" on line "+(this.yylineno+1)),s=this.constructLexErrorInfo("Lexical error"+i+": Unrecognized text.",this.options.lexerErrorsAreRecoverable);var f=this._input,l=this.topState(),h=this.conditionStack.length;return(t=this.parseError(s.errStr,s,this.JisonLexerError)||this.ERROR)===this.ERROR&&(this.matches||f!==this._input||l!==this.topState()||h!==this.conditionStack.length||this.input()),t}return this.done=!0,this.clear(),this.EOF},lex:function(){var t;for("function"==typeof this.pre_lex&&(t=this.pre_lex.call(this,0)),"function"==typeof this.options.pre_lex&&(t=this.options.pre_lex.call(this,t)||t),this.yy&&"function"==typeof this.yy.pre_lex&&(t=this.yy.pre_lex.call(this,t)||t);!t;)t=this.next();return this.yy&&"function"==typeof this.yy.post_lex&&(t=this.yy.post_lex.call(this,t)||t),"function"==typeof this.options.post_lex&&(t=this.options.post_lex.call(this,t)||t),"function"==typeof this.post_lex&&(t=this.post_lex.call(this,t)||t),t},fastLex:function(){for(var t;!t;)t=this.next();return t},canIUse:function(){return{fastLex:!("function"==typeof this.pre_lex||"function"==typeof this.options.pre_lex||this.yy&&"function"==typeof this.yy.pre_lex||this.yy&&"function"==typeof this.yy.post_lex||"function"==typeof this.options.post_lex||"function"==typeof this.post_lex)&&"function"==typeof this.fastLex}},begin:function(t){return this.pushState(t)},pushState:function(t){return this.conditionStack.push(t),this.__currentRuleSet__=null,this},popState:function(){return this.conditionStack.length-1>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:t,performAction:function(t,r,e){switch(r){case 0:case 1:break;default:return this.simpleCaseActionClusters[r]}},simpleCaseActionClusters:{2:45,3:44,4:20,5:26,6:24,7:25,8:27,9:"let",10:47,11:48,12:35,13:36,14:30,15:31,16:37,17:28,18:43,19:38,20:39,21:40,22:41,23:18,24:19,25:4,26:5,27:15,28:42,29:32,30:33,31:34,32:12,33:13,34:14,35:50,36:3,37:6,38:16,39:8,40:7,41:9,42:10,43:11,44:17,45:21,46:49,47:46,48:46,49:29,50:1},rules:[/^(?:\s+)/,/^(?:--[^\n]*)/,/^(?:-?\d\d*\.\d*)/,/^(?:-?\d\d*)/,/^(?:context)/,/^(?:inv)/,/^(?:init)/,/^(?:derive)/,/^(?:def)/,/^(?:let)/,/^(?:true)/,/^(?:false)/,/^(?:and)/,/^(?:or)/,/^(?:mod)/,/^(?:div)/,/^(?:xor)/,/^(?:not\b)/,/^(?:implies)/,/^(?:if\b)/,/^(?:then)/,/^(?:else)/,/^(?:endif)/,/^(?:package)/,/^(?:endpackage)/,/^(?:\()/,/^(?:\))/,/^(?:\|)/,/^(?:->)/,/^(?:<=)/,/^(?:>=)/,/^(?:<>)/,/^(?:<)/,/^(?:=)/,/^(?:>)/,/^(?:::)/,/^(?::)/,/^(?:\.)/,/^(?:,)/,/^(?:\^)/,/^(?:\+)/,/^(?:-)/,/^(?:\*)/,/^(?:\/)/,/^(?:@)/,/^(?:pre)/,/^(?:nil)/,/^(?:["][^"]*["])/,/^(?:['][^']*['])/,/^(?:[^\W\d]\w*)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],inclusive:!0}}}}();function s(t,r,e,n){let o=`${t.Utils.ucfirst(r)}Expression`,i=t.Expression[o];return"function"!=typeof i||n?new t.Expression.NativeJsFunctionCallExpression(e,r,n):new i(e)}function c(){this.yy={}}return o.lexer=i,c.prototype=o,o.Parser=c,new c}();t.exports=e},function(t,r,e){"use strict";e.r(r);var n={};e.d(n,"ClassifierContextExpression",function(){return qt}),e.d(n,"DeriveExpression",function(){return Ht}),e.d(n,"Expression",function(){return c}),e.d(n,"SourceBasedExpression",function(){return u}),e.d(n,"BodyBasedExpression",function(){return a}),e.d(n,"IteratorExpression",function(){return p}),e.d(n,"LeftRightBasedExpression",function(){return f}),e.d(n,"IfExpression",function(){return Gt}),e.d(n,"InitExpression",function(){return Xt}),e.d(n,"InvariantExpression",function(){return Bt}),e.d(n,"LetExpression",function(){return Ft}),e.d(n,"NativeJsFunctionCallExpression",function(){return Wt}),e.d(n,"OclIsKindOfExpression",function(){return tr}),e.d(n,"OclIsTypeOfExpression",function(){return er}),e.d(n,"OclIsUndefinedExpression",function(){return or}),e.d(n,"OperationCallExpression",function(){return sr}),e.d(n,"Operator",function(){return i}),e.d(n,"OperationContextExpression",function(){return ur}),e.d(n,"PackageDeclaration",function(){return ar}),e.d(n,"PropertyContextExpression",function(){return fr}),e.d(n,"VariableExpression",function(){return hr}),e.d(n,"AsSetExpression",function(){return h}),e.d(n,"AtExpression",function(){return _}),e.d(n,"CollectExpression",function(){return g}),e.d(n,"ExistsExpression",function(){return d}),e.d(n,"FirstExpression",function(){return b}),e.d(n,"ForAllExpression",function(){return m}),e.d(n,"IsEmptyExpression",function(){return P}),e.d(n,"NotEmptyExpression",function(){return A}),e.d(n,"LastExpression",function(){return S}),e.d(n,"RejectExpression",function(){return T}),e.d(n,"SelectExpression",function(){return N}),e.d(n,"SizeExpression",function(){return C}),e.d(n,"SumExpression",function(){return B}),e.d(n,"UnionExpression",function(){return F}),e.d(n,"AndExpression",function(){return U}),e.d(n,"ImpliesExpression",function(){return M}),e.d(n,"NotExpression",function(){return Q}),e.d(n,"OrExpression",function(){return z}),e.d(n,"XorExpression",function(){return K}),e.d(n,"BooleanExpression",function(){return Z}),e.d(n,"LiteralExpression",function(){return Y}),e.d(n,"NilExpression",function(){return rt}),e.d(n,"NumberExpression",function(){return nt}),e.d(n,"StringExpression",function(){return it}),e.d(n,"AbsExpression",function(){return ct}),e.d(n,"AdditionExpression",function(){return at}),e.d(n,"DivideExpression",function(){return ft}),e.d(n,"ModuloExpression",function(){return ht}),e.d(n,"MultiplyExpression",function(){return _t}),e.d(n,"PowerExpression",function(){return gt}),e.d(n,"SqrtExpression",function(){return dt}),e.d(n,"SubstractionExpression",function(){return bt}),e.d(n,"ConcatExpression",function(){return mt}),e.d(n,"IndexOfExpression",function(){return Pt}),e.d(n,"SubstringExpression",function(){return At}),e.d(n,"ToIntegerExpression",function(){return St}),e.d(n,"ToRealExpression",function(){return Tt}),e.d(n,"ToLowerCaseExpression",function(){return Nt}),e.d(n,"ToUpperCaseExpression",function(){return Ct});var o,i,s=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])},function(t,r){function e(){this.constructor=t}o(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}),c=function(){function t(){this.type=this.constructor.name}return t.prototype.accept=function(t){return!0},t.prototype.visit=function(t){throw new Error("Visitor for '"+this.type+"' not yet implemented!")},t}(),u=function(t){function r(r){var e=t.call(this)||this;return e.source=r,e}return s(r,t),r.prototype.getSource=function(){return this.source},r}(c),a=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return s(r,t),r.prototype.setBody=function(t){this.body=t},r.prototype.getBody=function(){return this.body},r}(u),p=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return s(r,t),r.prototype.setIterators=function(t){this.iterators=t},r.prototype.getIterators=function(){return this.iterators},r}(a),f=function(t){function r(r,e){var n=t.call(this)||this;return n.left=r,n.right=e,n}return s(r,t),r.prototype.getLeft=function(){return this.left},r.prototype.getRight=function(){return this.right},r}(c),l=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),h=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return l(r,t),r.prototype.visit=function(t){return t.visitAsSetExpression(this)},r}(u),y=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return y(r,t),r.prototype.visit=function(t){return t.visitAtExpression(this)},r}(a),v=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),g=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return v(r,t),r.prototype.visit=function(t){return t.visitCollectExpression(this)},r}(p),x=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return x(r,t),r.prototype.visit=function(t){return t.visitExistsExpression(this)},r}(p),E=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),b=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return E(r,t),r.prototype.visit=function(t){return t.visitFirstExpression(this)},r}(u),O=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),m=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return O(r,t),r.prototype.visit=function(t){return t.visitIteratorExpression(this)},r}(p),w=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),P=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return w(r,t),r.prototype.visit=function(t){return t.visitIsEmptyExpression(this)},r}(u),j=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),A=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return j(r,t),r.prototype.visit=function(t){return t.visitNotEmptyExpression(this)},r}(u),k=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),S=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return k(r,t),r.prototype.visit=function(t){return t.visitLastExpression(this)},r}(u),I=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),T=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return I(r,t),r.prototype.visit=function(t){return t.visitRejectExpression(this)},r}(p),L=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),N=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return L(r,t),r.prototype.visit=function(t){return t.visitSelectExpression(this)},r}(p),R=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),C=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return R(r,t),r.prototype.visit=function(t){return t.visitSizeExpression(this)},r}(u),$=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),B=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return $(r,t),r.prototype.visit=function(t){return t.visitSumExpression(this)},r}(u),D=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),F=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return D(r,t),r.prototype.visit=function(t){return t.visitUnionExpression(this)},r}(a),V=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),U=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return V(r,t),r.prototype.visit=function(t){return t.visitAndExpression(this)},r}(f),J=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),M=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return J(r,t),r.prototype.visit=function(t){return t.visitImpliesExpression(this)},r}(f),q=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Q=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return q(r,t),r.prototype.visit=function(t){return t.visitNotExpression(this)},r}(u),H=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),z=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return H(r,t),r.prototype.visit=function(t){return t.visitOrExpression(this)},r}(f),G=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),K=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return G(r,t),r.prototype.visit=function(t){return t.visitXorExpression(this)},r}(f),X=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Y=function(t){function r(r){var e=t.call(this)||this;return e.value=e.parseValue(r),e}return X(r,t),r.prototype.getValue=function(){return this.value},r.prototype.parseValue=function(t){throw new Error("parseValue() function not implemented!")},r}(c),W=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Z=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return W(r,t),r.prototype.parseValue=function(t){return JSON.parse(t)},r.prototype.visit=function(t){return t.visitLiteralExpression(this)},r}(Y),tt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rt=function(t){function r(){return t.call(this,void 0)||this}return tt(r,t),r.prototype.parseValue=function(){},r.prototype.visit=function(t){return t.visitLiteralExpression(this)},r}(Y),et=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return et(r,t),r.prototype.parseValue=function(t){if(isNaN(+t))throw new SyntaxError("NumberExpression: '"+t+"' is not a Number!");return+t},r.prototype.visit=function(t){return t.visitLiteralExpression(this)},r}(Y),ot=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),it=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return ot(r,t),r.prototype.parseValue=function(t){return t.replace(/^\"|"$/g,"")},r.prototype.visit=function(t){return t.visitLiteralExpression(this)},r}(Y),st=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ct=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return st(r,t),r.prototype.visit=function(t){return t.visitAbsExpression(this)},r}(u),ut=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),at=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return ut(r,t),r.prototype.visit=function(t){return t.visitAdditionExpression(this)},r}(f),pt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ft=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return pt(r,t),r.prototype.visit=function(t){return t.visitDivideExpression(this)},r}(f),lt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ht=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return lt(r,t),r.prototype.visit=function(t){return t.visitModuloExpression(this)},r}(f),yt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_t=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return yt(r,t),r.prototype.visit=function(t){return t.visitMultiplyExpression(this)},r}(f),vt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return vt(r,t),r.prototype.visit=function(t){return t.visitPowerExpression(this)},r}(f),xt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),dt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return xt(r,t),r.prototype.visit=function(t){return t.visitSqrtExpression(this)},r}(a),Et=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return Et(r,t),r.prototype.visit=function(t){return t.visitSubstractionExpression(this)},r}(f),Ot=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return Ot(r,t),r.prototype.visit=function(t){return t.visitConcatExpression(this)},r}(a),wt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return wt(r,t),r.prototype.visit=function(t){return t.visitIndexOfExpression(this)},r}(a),jt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),At=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return jt(r,t),r.prototype.visit=function(t){return t.visitSubstringExpression(this)},r}(a),kt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),St=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return kt(r,t),r.prototype.visit=function(t){return t.visitToIntegerExpression(this)},r}(u),It=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return It(r,t),r.prototype.visit=function(t){return t.visitToRealExpression(this)},r}(u),Lt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return Lt(r,t),r.prototype.visit=function(t){return t.visitToLowerCaseExpression(this)},r}(u),Rt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ct=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return Rt(r,t),r.prototype.visit=function(t){return t.visitToUpperCaseExpression(this)},r}(u),$t=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bt=function(t){function r(r,e){var n=t.call(this)||this;return n.name=e||"anonymous",n.definition=r,n}return $t(r,t),r.prototype.getName=function(){return this.name},r.prototype.getDefinition=function(){return this.definition},r.prototype.visit=function(t){return t.visitInvariantExpression(this)},r}(c),Dt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ft=function(t){function r(r,e){var n=t.call(this)||this;return n.key=r,n.value=e,n}return Dt(r,t),r.prototype.getKey=function(){return this.key},r.prototype.getValue=function(){return this.value},r.prototype.visit=function(t){return t.visitLetExpression(this)},r}(c),Vt=function(){function t(){}return t.getClassName=function(r){return"function"==typeof t.typeDeterminerFn?t.typeDeterminerFn(r):r&&r.typeName?r.typeName:"function"==typeof r?t._getFunctionName(r):"object"==typeof r?t._getFunctionName(r.constructor.toString()):void 0},t._getFunctionName=function(t){var r=(t||{}).toString().split(" ")[1];return(r=r.substring(0,r.indexOf("("))).length>0?r:void 0},t.intersect=function(t,r){return(t||[]).filter(function(t){return-1!==(r||[]).indexOf(t)})},t.getVariableName=function(r){var e=r.getBody();if(e)return t._findVariableExpression(e)},t._findVariableExpression=function(r){return r instanceof hr?r:r instanceof u?t._findVariableExpression(r.getSource()):r instanceof f?t._findVariableExpression(r.getLeft())||t._findVariableExpression(r.getRight()):void 0},t.ucfirst=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},t}(),Ut=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jt=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.labels=[],r}return Ut(r,t),r.prototype.accept=function(t){return 0===t.getLabelsToExecute().length||0===this.labels.length||Vt.intersect(this.labels,t.getLabelsToExecute()).length>0},r}(c),Mt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qt=function(t){function r(r,e){var n=t.call(this)||this;return e instanceof Array||(e=[e]),n.targetType=r,n.invs=e.filter(function(t){return t instanceof Bt}),n.defs=e.filter(function(t){return t instanceof Ft}),n}return Mt(r,t),r.prototype.getInvs=function(){return this.invs},r.prototype.getDefs=function(){return this.defs},r.prototype.accept=function(r){if(!1===t.prototype.accept.call(this,r))return!1;var e=r.getRegisteredType(r.getTargetTypeName())||r.getTargetTypeName(),n=r.getRegisteredType(this.targetType)||this.targetType;return"string"==typeof e||"string"==typeof n?this.targetType===r.getTargetTypeName():e instanceof n||e===n},r.prototype.visit=function(t){return t.visitClassifierContextExpression(this)},r}(Jt),Qt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ht=function(t){function r(r){var e=t.call(this)||this;return e.value=r,e}return Qt(r,t),r.prototype.getValue=function(){return this.value},r.prototype.visit=function(t){return t.visitDeriveExpression(this)},r}(c),zt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gt=function(t){function r(r,e,n){var o=t.call(this)||this;return o.condition=r,o._then=e,o._else=n,o}return zt(r,t),r.prototype.getCondition=function(){return this.condition},r.prototype.getThenExpression=function(){return this._then},r.prototype.getElseExpression=function(){return this._else},r.prototype.visit=function(t){return t.visitIfExpression(this)},r}(c),Kt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xt=function(t){function r(r){var e=t.call(this)||this;return e.value=r,e}return Kt(r,t),r.prototype.getValue=function(){return this.value},r.prototype.visit=function(t){return t.visitInitExpression(this)},r}(c),Yt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wt=function(t){function r(r,e,n){var o=t.call(this,r)||this;return o.fn=e,o.params=(n||[]).filter(function(t){return!!t}),o}return Yt(r,t),r.prototype.getFn=function(){return this.fn},r.prototype.getParams=function(){return this.params},r.prototype.visit=function(t){return t.visitNativeJsFunctionCallExpression(this)},r}(u),Zt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tr=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return Zt(r,t),r.prototype.visit=function(t){return t.visitOclIsKindOfExpression(this)},r}(a),rr=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),er=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return rr(r,t),r.prototype.visit=function(t){return t.visitOclIsTypeOfExpression(this)},r}(a),nr=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),or=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return nr(r,t),r.prototype.visit=function(t){return t.visitOclIsUndefinedExpression(this)},r}(u),ir=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sr=function(t){function r(r,e,n){var o=t.call(this,e,n)||this;return o.operator=r,o}return ir(r,t),r.prototype.getOperator=function(){return this.operator},r.prototype.visit=function(t){return t.visitOperationCallExpression(this)},r}(f);!function(t){t.NOT_EQUAL="<>",t.LESS_EQUAL_THAN="<=",t.GREATER_EQUAL_THAN=">=",t.GREATER_THAN=">",t.LESS_THAN="<",t.EQUAL="="}(i||(i={}));var cr=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ur=function(t){function r(r,e){var n=t.call(this)||this,o=r.pathName.split("::");return n.targetType=o[0],n.fnName=o[1],n.params=r.params,n.returnType=r.returnType,n.expressions=e,n}return cr(r,t),r.prototype.getExpressions=function(){return this.expressions},r.prototype.accept=function(t){return!0},r.prototype.visit=function(t){t.visitOperationContextExpression(this)},r}(Jt),ar=function(){function t(t,r){this.contexts=r}return t.prototype.getContexts=function(){return this.contexts},t.prototype.visit=function(t){return t.visitPackageDeclaration(this)},t}(),pr=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),fr=function(t){function r(r,e){var n=t.call(this)||this,o=r.split("::");return n.targetType=o[0],n.propertyName=o[1],e instanceof Array||(e=[e]),n.inits=e.filter(function(t){return t instanceof Xt}),n.derived=e.filter(function(t){return t instanceof Ht}),n}return pr(r,t),r.prototype.accept=function(t){return Vt.getClassName(t.getObjectToEvaluate())===this.targetType},r.prototype.visit=function(t){return t.visitPropertyContextExpression(this)},r}(Jt),lr=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hr=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return lr(r,t),r.prototype.visit=function(t){return t.visitVariableExpression(this)},r}(u),yr=e(0);yr.yy={Expression:n,Utils:Vt};var _r=function(){function t(){}return t.parse=function(r,e){void 0===e&&(e=[]);var n=yr.parse(r);return n.getContexts().map(function(t){return t.labels=Array.isArray(e)?e:[e],t.targetType}).filter(function(r){return void 0===t.registeredTypes[r]}),n},t._lex=function(t){var r=yr.lexer;for(r.setInput(t);!r.done;){var e=r.lex();e in yr.terminals_&&yr.terminals_[e],console.log("<"+e+", "+r.yytext+">")}},t}();_r.registeredTypes={Object:Object,String:String,Number:Number,Boolean:Boolean,Function:Function};var vr=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t},gr=function(){function t(t,r){void 0===r&&(r=[]),this.obj=t,this.labelsToExecute=r,this.evaluationResult=void 0,this.evaluatedContexts=0,this.failedInvariants=[],this.targetTypeName=Vt.getClassName(t),this.registeredTypes=_r.registeredTypes}return t.prototype.setObjectToEvaluate=function(t){return this.obj=t,this},t.prototype.getObjectToEvaluate=function(){return this.obj},t.prototype.getRegisteredType=function(t){return this.registeredTypes[t]},t.prototype.setTargetTypeName=function(t){this.targetTypeName=t},t.prototype.getTargetTypeName=function(){return this.targetTypeName},t.prototype.registerTypes=function(t){this.registeredTypes=vr({},this.registeredTypes,t)},t.prototype.getFailedInvariants=function(){return this.failedInvariants},t.prototype.getLabelsToExecute=function(){return this.labelsToExecute},t.prototype.visitPackageDeclaration=function(t){var r=this,e=t.getContexts().filter(function(t){return t.accept(r)});return this.evaluatedContexts+=e.length,this.evaluationResult=!e.map(function(t){return t.visit(r)}).some(function(t){return!1===t}),this},t.prototype.visitClassifierContextExpression=function(t){var r=this;if(t.accept(this))return t.getDefs().forEach(function(t){return t.visit(r)}),!t.getInvs().map(function(t){var e=t.visit(r);return!1===e&&r.failedInvariants.push(t),e}).some(function(t){return!1===t})},t.prototype.visitPropertyContextExpression=function(t){var r=this;return t.inits.forEach(function(e){r.obj[t.propertyName]=e.visit(r)}),t.derived.forEach(function(e){r.obj[t.propertyName]=e.visit(r)}),!0},t.prototype.visitOperationContextExpression=function(t){var r=this;t.accept(this)&&t.getExpressions().forEach(function(t){t.visit(r)})},t.prototype.visitIfExpression=function(t){return t.getCondition().visit(this)?t.getThenExpression().visit(this):t.getElseExpression().visit(this)},t.prototype.visitDeriveExpression=function(t){return t.getValue().visit(this)},t.prototype.visitInitExpression=function(t){return t.getValue().visit(this)},t.prototype.visitInvariantExpression=function(t){return t.getDefinition().visit(this)},t.prototype.visitOperationCallExpression=function(t){var r=this._visitLeftRightExpression(t),e=r.left,n=r.right;return t.getOperator()===i.NOT_EQUAL?e!==n:t.getOperator()===i.LESS_EQUAL_THAN?e<=n:t.getOperator()===i.GREATER_EQUAL_THAN?e>=n:t.getOperator()===i.GREATER_THAN?e>n:t.getOperator()===i.LESS_THAN?e<n:t.getOperator()===i.EQUAL?e===n:void 0},t.prototype.visitOclIsUndefinedExpression=function(t){var r=t.getSource().visit(this);return void 0===r||void 0===r},t.prototype.visitOclIsTypeOfExpression=function(t){var r=t.getSource().visit(this);r=Vt.getClassName(r);var e=t.getBody().visit(this);return"string"!=typeof e&&(e=Vt.getClassName(e)),r===e},t.prototype.visitOclIsKindOfExpression=function(t){var r=t.getSource().visit(this),e=t.getBody()?t.getBody().visit(this):void 0;return!!e&&r instanceof e},t.prototype.visitNativeJsFunctionCallExpression=function(t){var r=this,e=t.getSource().visit(this),n=t.getParams().map(function(t){return t.visit(r)});if(!e)return!1;var o=e[t.getFn()];return!("function"!=typeof o)&&o.apply(e,n)},t.prototype.visitLetExpression=function(t){this.obj[t.getKey()]=t.getValue().visit(this)},t.prototype.visitLiteralExpression=function(t){return t.getValue()},t.prototype.visitIteratorExpression=function(t){var r=this,e=t.getSource().visit(this);if(!(e instanceof Array))return!1;var n=t.getIterators(),o=t.getBody();if(o.variables={},!n||0===n.length)return!1;if(1===n.length)return!e.some(function(e){o.variables[t.getIterators()[0]]=e;var n=!1===o.visit(r);return o.variables[t.getIterators()[0]]=void 0,n});if(2===n.length){for(var i=e.length,s=0;s<i;s++){o.variables[n[0]]=e[s];for(var c=s+1;c<i;c++){o.variables[n[1]]=e[c];var u=o.visit(this);if(o.variables[n[1]]=void 0,!1===u)return o.variables[n[0]]=void 0,!1}o.variables[n[0]]=void 0}return!0}},t.prototype.visitImpliesExpression=function(t){var r=this._visitLeftRightExpression(t),e=r.left,n=r.right;return!e||n},t.prototype.visitVariableExpression=function(t){var r,e=t.getSource(),n=e.split(".");if("self"===n[0])n.shift(),r=this.obj;else if(void 0===t.variables){var o=this.registeredTypes[e];if(o)return o;r=this.obj}else r=t.variables;return this.registeredTypes[r]||function(t,r){return n.join(".").split(".").reduce(function(t,r){if(t)return r?r.split("[").reduce(e,t):t},t);function e(t,r,e){if(t){if(r){var n=r.slice(0,e?-1:r.length);return Array.isArray(t)?t.map(function(t){return t[n]}).reduce(function(t,r){return Array.isArray(r)?t.push.apply(t,r):t.push(r),t},[]):t[n]}return t}}}(r)},t.prototype.visitSizeExpression=function(t){var r=t.getSource().visit(this);return r&&(r instanceof Array||"string"==typeof r)?r.length:0},t.prototype.visitNotExpression=function(t){return!0!==t.getSource().visit(this)},t.prototype.visitIsEmptyExpression=function(t){var r=t.getSource().visit(this);return!Array.isArray(r)||0===r.length},t.prototype.visitNotEmptyExpression=function(t){var r=t.getSource().visit(this);return!!Array.isArray(r)&&0!==r.length},t.prototype.visitConcatExpression=function(t){var r=t.getSource().visit(this),e=t.getBody().visit(this);return String(r).concat(String(e))},t.prototype.visitIndexOfExpression=function(t){var r=t.getSource().visit(this),e=t.getBody().visit(this);return 0===e.length?0:r.indexOf(e)+1},t.prototype.visitSubstringExpression=function(t){var r,e,n=t.getSource().visit(this);if(!t.getBody())return n;Array.isArray(t.getBody())?(r=t.getBody()[0],e=t.getBody()[1]):r=t.getBody();var o=r.visit(this),i=e?e.visit(this):n.length;return n.substring(o,i)},t.prototype.visitToLowerCaseExpression=function(t){var r=t.getSource().visit(this);return String(r).toLowerCase()},t.prototype.visitToUpperCaseExpression=function(t){var r=t.getSource().visit(this);return String(r).toUpperCase()},t.prototype.visitToRealExpression=function(t){var r=t.getSource().visit(this);return Number.parseFloat(r)},t.prototype.visitToIntegerExpression=function(t){var r=t.getSource().visit(this);return Number.parseInt(r)},t.prototype.visitLastExpression=function(t){var r=t.getSource().visit(this);if(r instanceof Array)return r[r.length-1]},t.prototype.visitFirstExpression=function(t){var r=t.getSource().visit(this);if(r instanceof Array)return r[0]},t.prototype.visitAsSetExpression=function(t){var r=t.getSource().visit(this);if(r instanceof Array)return Array.from(new Set(r))},t.prototype.visitAtExpression=function(t){var r=t.getSource().visit(this),e=t.getBody().visit(this);if(r instanceof Array&&Number.isInteger(e)&&e>=1&&e<r.length)return r[e-1]},t.prototype.visitSumExpression=function(t){var r=t.getSource().visit(this);return r instanceof Array&&r instanceof Array?r.reduce(function(t,r){return t+r},0):0},t.prototype.visitCollectExpression=function(t){var r=this,e=t.getSource().visit(this);return e instanceof Array?e.map(function(e){if(t.getBody().variables={},t.getIterators())t.getBody().variables[t.getIterators()[0]]=e;else{var n=Vt.getVariableName(t);t.getBody().variables[n.getSource()]=e}return t.getBody().visit(r)}):e},t.prototype.visitExistsExpression=function(t){var r=this,e=t.getSource().visit(this);return e instanceof Array&&e.some(function(e){if(t.getBody().variables={},t.getIterators())t.getBody().variables[t.getIterators()[0]]=e;else{var n=Vt.getVariableName(t);t.getBody().variables[n.getSource()]=e[n.getSource()]}return!0===t.getBody().visit(r)})},t.prototype.visitRejectExpression=function(t){var r=this,e=t.getSource().visit(this);return e instanceof Array?e.filter(function(e){if(t.getBody().variables={},t.getIterators())t.getBody().variables[t.getIterators()[0]]=e;else{var n=Vt.getVariableName(t);t.getBody().variables[n.getSource()]=e}return!t.getBody().visit(r)}):[]},t.prototype.visitSelectExpression=function(t){var r=this,e=t.getSource().visit(this);return e instanceof Array?e.filter(function(e){if(t.getBody().variables={},t.getIterators())t.getBody().variables[t.getIterators()[0]]=e;else{var n=Vt.getVariableName(t);t.getBody().variables[n.getSource()]=e}return t.getBody().visit(r)}):[]},t.prototype.visitUnionExpression=function(t){var r=t.getSource().visit(this);t.getBody().variables=t.variables;var e=t.getBody().visit(this);return r instanceof Array&&e instanceof Array?r.concat(e):[]},t.prototype.visitOrExpression=function(t){var r=this._visitLeftRightExpression(t),e=r.left,n=r.right;return e||n},t.prototype.visitXorExpression=function(t){var r=this._visitLeftRightExpression(t),e=r.left,n=r.right;return(e||n)&&!(e&&n)},t.prototype.visitAndExpression=function(t){var r=this._visitLeftRightExpression(t),e=r.left,n=r.right;return e&&n},t.prototype.visitAdditionExpression=function(t){var r=this._visitLeftRightExpression(t);return r.left+r.right},t.prototype.visitSubstractionExpression=function(t){var r=this._visitLeftRightExpression(t);return r.left-r.right},t.prototype.visitMultiplyExpression=function(t){var r=this._visitLeftRightExpression(t);return r.left*r.right},t.prototype.visitModuloExpression=function(t){var r=this._visitLeftRightExpression(t);return r.left%r.right},t.prototype.visitPowerExpression=function(t){var r=this._visitLeftRightExpression(t),e=r.left,n=r.right;return Math.pow(e,n)},t.prototype.visitDivideExpression=function(t){var r=this._visitLeftRightExpression(t);return r.left/r.right},t.prototype.visitAbsExpression=function(t){t.getSource().variables=t.variables;var r=t.getSource().visit(this);return Math.abs(r)},t.prototype.visitSqrtExpression=function(t){var r=t.getBody()?t.getBody().visit(this):2;t.getSource().variables=t.variables;var e=t.getSource().visit(this);return Math.pow(e,1/r)},t.prototype._visitLeftRightExpression=function(t){t.getLeft().variables=t.variables;var r=t.getLeft().visit(this);return t.getRight().variables=t.variables,{left:r,right:t.getRight().visit(this)}},t}(),xr=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t},dr=function(){function t(){this.oclExpressions=[],this.registeredTypes=_r.registeredTypes}return t.create=function(){return new t},t.prototype.setTypeDeterminer=function(r){"function"==typeof r&&(t.Utils.typeDeterminerFn=r)},t.prototype.registerTypes=function(t){this.registeredTypes=xr({},this.registeredTypes,t),_r.registeredTypes=this.registeredTypes},t.prototype.addOclExpressions=function(t){return t.forEach(this.addOclExpression.bind(this)),this},t.prototype.addOclExpression=function(t,r){void 0===r&&(r=[]);try{var e=_r.parse(t,r);this.oclExpressions.push(e)}catch(r){throw r.oclExpression=t,r}return this},t.prototype.evaluate=function(t,r){void 0===r&&(r=[]);var e=new gr(t,Array.isArray(r)?r:[r]);return e.registerTypes(this.registeredTypes),this.oclExpressions.forEach(function(t){return t.visit(e)}),new Er(e.getFailedInvariants().map(function(t){return t.getName()}),e.evaluatedContexts)},t.prototype._inferType=function(t){return Vt.getClassName(t)},t.Utils=Vt,t}(),Er=function(){function t(t,r){this.setResult(0===t.length),this.setNamesOfFailedInvs(t),this.evaluatedContexts=r}return t.prototype.setResult=function(t){this.result=t},t.prototype.getResult=function(){return this.result},t.prototype.setNamesOfFailedInvs=function(t){this.namesOfFailedInvs=Array.isArray(t)?t:[]},t.prototype.getNamesOfFailedInvs=function(){return this.namesOfFailedInvs},t.prototype.getEvaluatedContextsCount=function(){return this.evaluatedContexts},t}();e.d(r,"OclEngine",function(){return dr})}]).OclEngine});